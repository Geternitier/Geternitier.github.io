

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/icon/yuanshen.jpeg">
  <link rel="icon" href="/image/icon/yuanshen.jpeg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#5a9367">
  <meta name="author" content="Geternitier">
  <meta name="keywords" content="">
  
    <meta name="description" content="计算机网络概述 夜阑月明人尽望，铁骑刀锋梦中伏。">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络概述">
<meta property="og:url" content="http://example.com/2022/11/01/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/index.html">
<meta property="og:site_name" content="Geternitier的博客">
<meta property="og:description" content="计算机网络概述 夜阑月明人尽望，铁骑刀锋梦中伏。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-11-01T04:00:00.000Z">
<meta property="article:modified_time" content="2024-11-12T05:50:43.988Z">
<meta property="article:author" content="Geternitier">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>计算机网络概述 - Geternitier的博客</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="Geternitier的博客" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Geternitier的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/image/background/TheSpirits.webp') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="计算机网络概述"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-11-01 12:00" pubdate>
          2022年11月1日 中午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          14k 字
        
      </span>
    

    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">计算机网络概述</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="计算机网络概述">计算机网络概述</h1>
<p>夜阑月明人尽望，铁骑刀锋梦中伏。</p>
<span id="more"></span>
<h2 id="计算机网络架构">1. 计算机网络架构</h2>
<ol type="1">
<li><p>计算机网络由若干结点和连接这些结点的链路组成。</p>
<p>结点：可以是计算机、集线器、交换机或路由器等。</p>
<p>链路：从一个结点到相邻结点的物理线路。</p>
<ul>
<li>互连网：网络之间通过路由器互连构成的网络。</li>
<li>互联网：当前全球最大的、由众多网络互连而成的网络，采用TCP/IP协议族作为通信规则。</li>
</ul></li>
<li><p>不同角度下计算机网络的组成：</p>
<ul>
<li>组成部分：硬件、软件、协议</li>
<li>工作方式：边缘部分（用户主机）、核心部分（大量网络和路由器）</li>
<li>功能组成：通信子网（传输介质、通信设备和网络协议）、资源子网（软硬件资源、数据资源）</li>
</ul></li>
<li><p>功能：数据通信、资源共享、负载均衡、分布式处理。</p></li>
<li><p>分类：</p>
<ul>
<li>范围：个人区域网（PAN）、局域网（LAN）、城域网（MAN）、广域网（WAN）</li>
<li>传输方式：广播式、点对点</li>
<li>结构：总线形、星形、环形、网状</li>
</ul></li>
<li><p>电路交换：数据通过一条专用的物理路径传输。</p>
<ul>
<li>需要先建立连接，数据传输时独占，传输结束后释放。</li>
</ul>
<p>报文交换：用户数据加上地址等信息封装成报文进行传输。</p>
<ul>
<li>报文是数据交换的单位。</li>
<li>存储转发：报文先传输到相邻结点，全部存储后查找转发表转发到下一个结点，重复到目的地。</li>
</ul>
<p>分组交换：将较长的报文分成较小的数据段，加上控制信息（首部）形成分组进行传输。</p></li>
<li><p>性能指标：</p>
<ul>
<li>数据传输速率</li>
<li>带宽：数据信道的最高数据传输速率</li>
<li>吞吐量：单位时间通过某个网络的实际数据量</li>
<li>时延：数据从网络的一端到另一端的总时间。
<ul>
<li>4个组成部分：发送时延（数据进入链路）、传播时延（数据在信道传播）、处理时延（存储转发）、排队时延</li>
</ul></li>
<li>信道利用率：信道有数据通过的时间所占比例。</li>
</ul></li>
<li><p>网络架构：网络分层及各层协议的集合。</p>
<ul>
<li>协议数据单元：在某一层中传输的数据单元（PDU），第n层记为n-PDU。
<ul>
<li>物理层PDU为bit流，数据链路层PDU为帧，网络层PDU为分组，传输层PDU为报文段。</li>
</ul></li>
</ul>
<p>协议：对等实体间数据交换的规则。</p>
<ul>
<li>三要素：语法、语义、同步（时序）</li>
</ul>
<p>服务访问点（Service Access
Point，SAP）：相邻两层间交换信息的接口。</p>
<p>服务：下层为相邻的上层提供的功能调用。</p>
<ul>
<li>分类：
<ul>
<li>面向连接、无连接</li>
<li>可靠、不可靠</li>
<li>有应答、无应答</li>
</ul></li>
</ul></li>
<li><p>OSI参考模型：开放系统互连参考模型</p>
<ul>
<li>物理层</li>
<li>数据链路层：SDLC、HDLC、PPP、STP、帧中继</li>
<li>网络层：IP、IPX、ICMP、IGMP、ARP、RARP、RIP、OSPF</li>
<li>传输层：TCP、UDP</li>
<li>会话层</li>
<li>表示层</li>
<li>应用层：FTP、SMTP、HTTP</li>
</ul></li>
<li><p>TCP/IP模型：</p>
<ul>
<li>网络接入层</li>
<li>网络层</li>
<li>传输层</li>
<li>应用层</li>
</ul></li>
</ol>
<h2 id="物理层">2. 物理层</h2>
<ol type="1">
<li><p>通信基础概念：</p>
<ul>
<li><p>数据：传送信息的实体</p></li>
<li><p>信号：数据的电气或电磁表现</p>
<ul>
<li>模拟数据/信号的取值是连续的，数字数据/信号的取值是离散的。</li>
</ul></li>
<li><p>码元：数字信号的计量单位</p>
<ul>
<li>二进制中只有0和1两种码元。</li>
</ul></li>
<li><p>信源：产生和发送数据的源头</p></li>
<li><p>信宿：接收数据的终点</p></li>
<li><p>信道：信号的传输介质</p>
<ul>
<li>模拟信道、数字信道</li>
<li>无线信道、有线信道</li>
</ul></li>
<li><p>噪声源：信道上的噪声及分散在通信系统其他各处的噪声的集中表示</p></li>
<li><p>传输方式：</p>
<ul>
<li>串行传输：逐位按序传输</li>
<li>并行传输：若干位通过多个信道同时传输</li>
</ul></li>
<li><p>通信方式：</p>
<ul>
<li>单向通信：发送方和接收方</li>
<li>半双工通信：通信双方可发送和接收，但任何一方不能同时发送和接收</li>
<li>全双工通信：通信双方可同时发送和接收</li>
</ul></li>
<li><p>数据传输速率：</p>
<ul>
<li>码元传输速率，又称波特率：单位时间传输码元数，1波特表示每秒1码元</li>
<li>信息传输速率，又称比特率：单位时间传输二进制码元数</li>
</ul></li>
<li><p>带宽：</p>
<ul>
<li>模拟信号系统中，带宽表示信道能传输信号的频率范围，是最大频率与最小频率的差</li>
<li>计算机网络中，带宽表示通信线路最高数据传输速率</li>
</ul></li>
<li><p>信道的极限容量：</p>
<ul>
<li><p>码间串扰：信号中高频分量不能通过信道导致接收端收到信号波形失去码元间界限。</p></li>
<li><p>奈氏准则：</p>
<p>在没有噪声、带宽有限信道中，为了避免码间串扰，极限码元传输速率为<span
class="math inline">\(2W\)</span>波特，其中<span
class="math inline">\(W\)</span>为信道带宽（Hz）。用<span
class="math inline">\(V\)</span>表示每个码元的离散电平数目（码元数），极限数据率为<span
class="math inline">\(2W\log_2V\)</span>。</p></li>
<li><p>香农定理：</p>
<p>信道的极限数据传输速率为<span
class="math inline">\(W\log_2(1+S/N)\)</span>。</p>
<p>其中<span class="math inline">\(W\)</span>为信道的频率带宽，<span
class="math inline">\(S\)</span>为信道内所能传输信号的平均功率，<span
class="math inline">\(N\)</span>为信道内的高斯噪声功率</p>
<p>信噪比<span class="math inline">\(S/N\)</span>的分贝表示：<span
class="math inline">\(10\log_{10}(S/N)\)</span>dB。</p></li>
</ul></li>
<li><p>编码：将数据转化为数字信号；调制：将数据转化为模拟信号</p>
<ul>
<li>数字数据编码为数字信号：
<ul>
<li>归零编码，RZ：高电平表示1，低电平表示0，每个码元中间跳变到0电平。</li>
<li>非归零编码，NRZ：不归零，每个周期内全是高电平或低电平。</li>
<li>反向非归零编码，NRZI：用电平的跳变表示0，不变表示1。</li>
<li>曼切斯特编码：每个码元中间都跳变，从高到低表示1，从低到高表示0。</li>
<li>差分曼切斯特编码：每个码元中间都跳变作为时钟信号，码元开始处跳变为0。</li>
</ul></li>
<li>模拟数据编码为数字信号：采样、量化和编码。
<ul>
<li>采样：周期性扫描，将连续信号转化为离散信号。
<ul>
<li>采样定理：原始信号频率<span
class="math inline">\(f\)</span>，则采样频率必须大于等于<span
class="math inline">\(2f\)</span>才能完整保留模拟信息。</li>
</ul></li>
<li>量化：将采样到的电平值取整</li>
<li>编码：将量化后的值转化为二进制编码</li>
</ul></li>
<li>数字数据调制为模拟信号（举例）：
<ul>
<li>调幅，AM：0为<span class="math inline">\(y=0\)</span>，1为<span
class="math inline">\(y=\sin x\)</span>。</li>
<li>调频，FM：0为<span class="math inline">\(y=\sin
f_1x\)</span>，1为<span class="math inline">\(y=\sin
f_2x\)</span>。</li>
<li>调相，PM：0为<span class="math inline">\(y=\sin x\)</span>，1为<span
class="math inline">\(y=\sin (x+\pi)\)</span></li>
</ul></li>
<li>模拟数据调制为模拟信号</li>
</ul></li>
</ul></li>
<li><p>传输介质：</p>
<ul>
<li>导向传输介质：如电磁波沿着固体介质导向传播。</li>
<li>非导向传输介质：如无线电波、微波、红外线。</li>
</ul>
<p>双绞线：两根并排绞合、相互绝缘的铜导线。</p>
<ul>
<li>屏蔽双绞线，STP：在双绞线外加上一层金属丝编织的屏蔽层。
<ul>
<li>非屏蔽双绞线，UTP</li>
</ul></li>
<li>价格便宜，可进行模拟和数字传输。</li>
<li>距离远时，模拟信号需要放大器放大，数字信号需要中继器整形。</li>
<li>局域网基本都采用双绞线。</li>
</ul>
<p>同轴电缆：由内导体、绝缘层、网状编织屏蔽层、塑料外层构成。</p>
<ul>
<li><span
class="math inline">\(50\Omega\)</span>同轴电缆常用于传送基带数字信号，早期局域网使用广泛。</li>
<li><span
class="math inline">\(75\Omega\)</span>同轴电缆常用于传送宽带信号，有线电视系统使用广泛。</li>
<li>抗干扰性强，可用于传送较高速率数据。</li>
</ul>
<p>光纤：由低折射率的包层和高折射率的纤芯构成。</p>
<ul>
<li>多模光纤：让多个角度入射的多条光线传输。
<ul>
<li>光源为发光二极管，光线在折射中逐渐展宽，造成失真，适用于近距离传输。</li>
</ul></li>
<li>单模光纤：光纤的直径为光的波长，光线一直向前传播而不进行多次反射，适用于远距离。</li>
</ul></li>
<li><p>物理层确定的接口的特性：</p>
<ul>
<li>机械特性：接口所用接线器的形状、尺寸、引脚数目和排列、固定和锁定装置等。</li>
<li>电气特性：接口电缆的各条线的电压范围、传输速率和距离限制。</li>
<li>功能特性：某条线上某一电平的意义、每条线的功能。</li>
<li>过程特性：不同功能的可能事件的顺序。</li>
</ul></li>
<li><p>物理层设备：</p>
<ul>
<li>中继器：整形、放大并转发信号。
<ul>
<li>原理是信号的再生，而不是简单的放大。</li>
<li>不能连接两个具有不同速率的局域网，使用中继器连接的几个网段仍是一个局域网。</li>
<li>5-4-3规则：在采用粗同轴电缆的10BASE5以太网标准中，互相串联的中继器不超过4个，并且4个中继器串联的5段通信介质中，只有3段可以挂接计算机。</li>
</ul></li>
<li>集线器：一个多端口的中继器。
<ul>
<li>由集线器组成的网络是共享式的，逻辑上是总线形网络。</li>
<li>集线器将收到的帧转发到其他所有接口。</li>
</ul></li>
</ul></li>
</ol>
<h2 id="数据链路层">3. 数据链路层</h2>
<ol type="1">
<li><p>三个基本问题：</p>
<ul>
<li>封装成帧：也称组帧，在一段数据的前后添加首部和尾部形成帧。</li>
<li>透明传输：无论数据的位如何组合，都可以无错地进行传输。</li>
<li>差错检测：位错（循环冗余校验，CRC）、帧错（确认和重传）</li>
</ul></li>
<li><p>两种信道：点对点信道（常用PPP）、广播信道（有线常用CSMA/CD，无线CSMA/CA）</p></li>
<li><p>链路：从一个结点到相邻结点的物理线路。</p>
<p>数据链路：链路以及实现通信协议的软硬件。</p>
<p>帧：数据链路层对等实体间进行逻辑通信的协议数据单元。</p></li>
<li><p>为网络层提供的服务：</p>
<ul>
<li>无确认的无连接服务</li>
<li>有确认的无连接服务</li>
<li>有确认的面向连接服务
<ul>
<li>连接的建立、维持和释放称为链路管理。</li>
</ul></li>
</ul></li>
<li><p>组帧方法：</p>
<ul>
<li>字符计数法：在首部用一个字段记录该帧的字节数
<ul>
<li>计数字段若出错，则会使整个帧以及之后的内容都读取错误</li>
</ul></li>
<li>字节填充法：用特定字节来界分一帧的开始和结束</li>
<li>零位填充法：使用一个特殊的位串来界分一帧的开始和结束，对数据内可能重复的位串进行零填充
<ul>
<li>HDLC协议标志串01111110，则数据中每有连续5个1，就在其后添加一个0，这由机器实现。</li>
</ul></li>
<li>违规编码法：使用数据中没有采用的编码方法来编码标志。
<ul>
<li>目前常用的是零位填充和违规编码。</li>
</ul></li>
</ul></li>
<li><p>差错控制：</p>
<ul>
<li><p>自动重传请求，ARQ：检测到差错后重传</p>
<ul>
<li>检错编码：
<ul>
<li>奇校验码：附加一个检验位，数据中1的个数为奇数则取0</li>
<li>偶校验码：附加一个检验位，数据中1的个数为偶数则取0</li>
<li>循环冗余校验：m位数据，在数据后补r位0，除以给定r+1位串，取r位余数作为校验码。</li>
</ul></li>
</ul></li>
<li><p>前向纠错，FEC：检测到错误并纠正</p>
<ul>
<li><p>纠错编码：海明码</p>
<ol type="1">
<li><p>n位数据，k位检验，则<span class="math inline">\(n+k\le
2^k-1\)</span>。</p>
<p>设数据位<span class="math inline">\(D_n...D_1\)</span>，检验位<span
class="math inline">\(P_k...P_1\)</span>，海明码为<span
class="math inline">\(H_{n+k}...H_1\)</span>。</p></li>
<li><p><span class="math inline">\(P_i\)</span>的位置为<span
class="math inline">\(2^{i-1}\)</span>（即二进制中只在第i位为1的数），数据位按原序插入。</p></li>
<li><p><span
class="math inline">\(P_i\)</span>由海明码中所有二进制表示的第i位为1的下标的位进行异或计算；</p>
<p><span
class="math inline">\(D_i\)</span>由其海明码下标中所有为1的位对应的<span
class="math inline">\(P_j\)</span>检验。</p></li>
</ol></li>
</ul></li>
</ul></li>
<li><p>流量控制：由接收方控制发送方的发送速率。</p>
<p>自动重传请求，ARQ：停止等待、后退N帧、选择重传</p>
<ul>
<li>滑动窗口：发送方维持一组连续的发送的帧，称为发送窗口。接收方也维持一组连续的接收帧序号，称为接收窗口。接收到帧后返回应答信号，发送方收到后移动发送窗口。
<ul>
<li>停止等待协议，S-W：单帧滑动窗口
<ul>
<li>发送的帧交替用0和1来标识，接收到相同序号的帧即重复</li>
</ul></li>
<li>后退N帧协议，GBN：发送窗口内的某个帧超时未确认，就重传这个帧以及已经发送的后续帧
<ul>
<li>用<span
class="math inline">\(2^n\)</span>个编号来标识帧，一般发送窗口<span
class="math inline">\(2^n-1\)</span>，接收窗口1。</li>
<li>累计确认：最后确认的帧之前的帧都被接收</li>
<li>如果在前部的帧有差错，后续的帧都要被丢弃</li>
</ul></li>
<li>选择重传协议，SR：只重传出现差错或超时未确认的帧
<ul>
<li>用<span
class="math inline">\(2^n\)</span>个编号来标识帧，一般发送窗口<span
class="math inline">\(2^{n-1}\)</span>，接收窗口<span
class="math inline">\(2^{n-1}\)</span>。</li>
<li>出错后发送否定帧，发送方收到后立即重传。</li>
</ul></li>
</ul></li>
<li>信道利用率：一个发送周期内，有效发送数据时间与周期时间之比。</li>
</ul></li>
<li><p>介质访问控制：</p>
<ul>
<li><p>信道划分：一条物理信道传输多方信号</p>
<ul>
<li><p>频分复用，FDM：信道总频带划分为子频带，子频带作为子信道，相邻信道间有隔离频段。</p></li>
<li><p>时分复用，TDM：传输时间分为时间片，按时间片周期分配时间。</p>
<ul>
<li>统计时分复用，STDM：动态分配时间片。</li>
</ul></li>
<li><p>波分复用，WDM：即光的频分复用，在一根光纤中传输不同波长光信号。</p></li>
<li><p>码分复用，CDM：用不同的编码来区分各路信号。既共享频率，也共享时间。</p>
<ul>
<li><p>码分多址，CDMA：</p>
<p>每个位用m位的向量表示，一个发送方指定一个m位01向量。不同发送方的向量正交。公共信道上将不同发送方的向量线性相加传输，在接收方进行分离。</p></li>
<li><p>主要用于无线通信。</p></li>
</ul></li>
</ul></li>
<li><p>随机访问介质访问控制：随机发送信息的控制协议。</p>
<ul>
<li><p>ALOHA：站点直接发送信息，超时未确认就认为发生了冲突，等待一段时间后重传。</p>
<ul>
<li>时隙ALOHA：时间划分为一段段时隙，只能在时隙开始时发送帧。</li>
</ul></li>
<li><p>载波监听多路访问，CSMA：</p>
<ul>
<li><p>1-坚持CSMA：</p>
<p>站点要发送数据时，先监听信道，若空闲则发送数据；若信道忙则继续监听至信道空闲。</p></li>
<li><p>非坚持CSMA：</p>
<p>站点要发送数据时，先监听信道，若空闲则发送数据；若信道忙则等待随机时间再监听。</p></li>
<li><p>p-坚持CSMA：</p>
<p>站点要发送数据时，先监听信道，若空闲则以p的概率发送数据，否则等待下一个时隙再监听。</p></li>
</ul></li>
<li><p>载波监听多路访问/冲突检测，CSMA/CD：适用于总线形、半双工，用于有线局域网</p>
<p>发送前监听信道，空闲则发送，发送过程中监听信道，若有冲突则停止发送，等待随机时间后重发。</p>
<ul>
<li>电磁波传播速率有限，导发送站检测到信道空闲时未必真的空闲，因此会发送冲突。</li>
<li>争用期：最多经过两个站点间传播时延的两倍时间，就能确认是否发生冲突（一来一往）</li>
<li>最短帧长：争用期内可发送的数据长度。（<span
class="math inline">\(传播时延\times2\times数据传输速率\)</span>）
<ul>
<li>短于最短帧长的帧为无效帧。</li>
</ul></li>
<li>确定冲突后重传时机：截断二进制指数退避算法
<ol type="1">
<li>确定基本退避时间，一般取争用期时间。</li>
<li><span
class="math inline">\(k=\min(重传次数,10)\)</span>，从离散整数集合<span
class="math inline">\({0,2^0,...,2^{k}-1}\)</span>中随机取一个数<span
class="math inline">\(r\)</span>，推迟<span
class="math inline">\(r\)</span>倍基本退避时间重传。</li>
<li>重传16次失败，认为网络太拥挤，报告错误。</li>
</ol></li>
</ul></li>
<li><p>载波监听多路访问/冲突避免，CSMA/CA：用于无线局域网</p>
<ul>
<li>确认重传：站点发送后，必须收到确认才能发送下一帧</li>
<li>完成发送后必须等待一段时间（帧间间隔，IFS）才能发送下一帧。
<ul>
<li>短IFS，SIFS：最短，分隔属于一次对话的各帧</li>
<li>点协调IFS，PIFS</li>
<li>分布式协调IFS，DIFS：最长，用于异步帧竞争访问的时延</li>
</ul></li>
<li>虚拟载波监听：源站将它要占用信道的持续时间通知给其他站</li>
</ul>
<ol type="1">
<li>检测到信道空闲，等待DIFS后发送整个数据帧。</li>
<li>执行退避算法，选取一个随机退避值，当信道忙时，退避计时器不变，空闲时计时器进行倒计时。</li>
<li>退避计时器为0时发送整个帧并等待确认。</li>
<li>收到确认后，若要发送下一个帧，就从步骤2继续。</li>
<li>设置重传计时器，超时未收到确认则重传。</li>
</ol>
<ul>
<li>隐蔽站：当同一个AP内的两个站距离太远，彼此检测到信道空闲后发送数据会导致冲突。</li>
<li>信道预约：源站发送前先监听信道，若空闲则等待DIFS后广播RTS（请求发送）帧，AP接收后等待SIFS后向源站发送CTS（允许发送）帧，源站接收后等待SIFS，发送数据帧。</li>
</ul></li>
</ul></li>
<li><p>轮询访问：令牌传递协议</p>
<ul>
<li>同一时间、同一链路只有一个结点可以发送数据</li>
<li>适合高负载广播信道</li>
</ul>
<ol type="1">
<li>网络空闲时只有令牌帧在循环传递。</li>
<li>令牌传递到需要发送数据的站点时，站点修改一个标志位，附加数据并发送令牌帧。</li>
<li>令牌循环传递，站点转发并检查数据的目的地址，若是自己就复制一份数据。</li>
<li>传递到源站点后不再转发该数据，同时检测返回的帧是否出错，出错则重传。</li>
</ol></li>
</ul></li>
<li><p>局域网拓扑：</p>
<ul>
<li>以太网，IEEE802.3：总线形，使用CSMA/CD进行访问控制。
<ul>
<li>MAC地址：48位，每个网络适配器唯一。</li>
</ul></li>
<li>令牌环，IEEE802.5</li>
<li>光纤分布数字接口，FDDI，IEEE802.8</li>
<li>无线局域网，IEEE802.11</li>
</ul></li>
<li><p>点对点协议，PPP：用户计算机与ISP通信所用的数据链路层协议。</p>
<ul>
<li>组成部分：链路控制协议、网络控制协议、数据报封装</li>
</ul></li>
<li><p>数据链路层设备：</p>
<ul>
<li><p>网桥：网桥连接的各个网段具有不同的冲突域。（仍属于同一个网络，不分割广播域）</p></li>
<li><p>交换机：多接口的网桥。</p>
<ul>
<li>交换机接口连接主机或交换机时，以全双工方式工作，使得每对主机都能无冲突地传输数据。
<ul>
<li>用户通信独占带宽，使得N个用户的总容量为N倍带宽，而集线器是1/N。</li>
</ul></li>
<li>交换机接口连接集线器时，使用CSMA/CD协议并以半双工方式工作。</li>
<li>即插即用，内部帧转发表通过自学习算法，基于网络中各主机的通信逐步建立。</li>
</ul>
<p>交换方式：</p>
<ul>
<li>直通交换：只检查帧的MAC地址以决定转发目的地</li>
<li>存储转发：先将帧存储到高速缓存中，并检查数据正确，再进行转发</li>
</ul>
<p>交换表：MAC地址+连通该地址的接口</p>
<ul>
<li>自学习方式：接收到一帧，记录其源地址与接口，查表，若有则转发，若无则广播</li>
</ul></li>
</ul></li>
</ol>
<h2 id="网络层">4. 网络层</h2>
<ol type="1">
<li><p>网络层提供主机到主机的通信服务，将分组从源主机经过多个网段、链路传输到目的主机。</p>
<ul>
<li><p>异构网络互连：将多个计算机网络相互连接起来。通常指用路由器进行网络连接和路由选择。</p>
<ul>
<li>物理层：集线器</li>
<li>数据链路层：网桥、交换机</li>
<li>网络层：路由器
<ul>
<li>路由选择：根据路由协议构造并动态维护路由表。</li>
<li>分组转发：根据转发表将分组从合适的端口转发。</li>
</ul></li>
<li>网络层以上：网关</li>
</ul>
<p>IP网络：使用IP协议将各种网络模拟为一个统一的虚拟互连网络。</p></li>
<li><p>网络层服务方式：虚电路、数据报</p>
<ul>
<li>虚电路：两台主机通信，先建立网络层连接，即虚电路，固定物理路径。分组沿虚电路传递。</li>
<li>数据报：将报文分成分组，找到最佳路由后尽快转发各个分组。</li>
</ul></li>
<li><p>软件定义网络，SDN：路由器只需接收、查表、转发，表的生成由软件完成。</p>
<ul>
<li>SDN提供的编程接口称为北向接口。</li>
<li>SDN控制器与转发设备的双向接口称为南向接口。</li>
<li>SDN内部控制器之间的通信接口称为东西向接口。</li>
</ul></li>
<li><p>拥塞：出现过量的分组而引起网络性能下降。</p></li>
</ul></li>
<li><p>IPv4：</p>
<ul>
<li><p>IP数据报：首部+数据</p>
<ul>
<li>首部的固定长度共20B，后面还有一些可选字段
<ul>
<li>版本（4位）：4</li>
<li>首部长度（4位）：一般为5（5*32位，20B）</li>
<li>总长度（16位）：不能超过数据链路层的MTU（最大传输单元）大小，单位为B</li>
<li>标识（16位）：计数器，每产生一个数据报加1，不用于排序。分片时复制标识</li>
<li>标志（3位）：低位为MF，MF=1表示后面还有分片；中位为DF，DF=0表示允许分片</li>
<li>片偏移（13位）：指出片在原数据报的相对位置，单位为8B</li>
<li>生存时间（8位）：可通过的路由器数最大值，路由器转发前减1，然后判断为0则丢弃</li>
<li>协议（8位）：6为TCP，17为UDP</li>
<li>首部检验和（16位）</li>
<li>源IP地址（4B）</li>
<li>目的IP地址（4B）</li>
</ul></li>
</ul></li>
<li><p>IPv4地址：32位，网络号+主机号</p>
<ul>
<li>点分十进制表示：每8位用一个十进制数表示，每个数之间用点间隔</li>
</ul></li>
<li><p>网络地址转换，NAT：将私有IP地址转化为公有IP地址。</p>
<ul>
<li>NAT转换表：本地IP+端口和公共IP+端口的映射。</li>
</ul></li>
<li><p>子网：IP地址为网络号+子网号+主机号</p>
<ul>
<li>子网掩码：一连串1，后续全0，与IP地址作与运算得出子网地址。</li>
<li>默认网关：子网与外部网络连接的设备，如果目的地址不在子网中则发送到默认网关。</li>
<li>无分类编址，CIDR：IP地址分为网络前缀+主机号，记网络为”IP地址/前缀位数“。
<ul>
<li>路由聚合：根据IP地址的公共前缀以二叉线索树的方式构建路由表。</li>
</ul></li>
<li>主机号全0和全1的地址不能分配。</li>
</ul></li>
<li><p>分组转发：</p>
<ul>
<li>特定主机路由，a.b.c.d/32</li>
<li>默认路由：0.0.0.0/0，通常用于路由器到互联网的路由</li>
<li>分组转发过程：
<ol type="1">
<li>从IP分组的首部提取目的IP地址</li>
<li>若有特定主机路由，则按照该路由转发分组，否则下一步</li>
<li>计算子网，查找转发表，若查找到则进行转发，否则下一步</li>
<li>如果有默认路由，则转发给默认路由，否则出错</li>
</ol></li>
<li>查表得到下一个路由器的IP地址后，需要先将其转换为MAC地址，再进行数据链路层传输。</li>
</ul></li>
<li><p>地址解析协议，ARP：IP地址到MAC地址的映射。</p>
<ul>
<li>ARP协议包含了IP地址的内容，因此是网络层的协议。</li>
<li>每台主机都有一个ARP高速缓存。</li>
<li>发送IP数据报过程：
<ol type="1">
<li>查ARP表，若有对应MAC地址，则写入MAC帧进行传输，否则下一步</li>
<li>广播ARP请求，目的主机返回IP和MAC的映射信息。</li>
</ol></li>
</ul></li>
<li><p>动态主机配置协议，DHCP：动态分配IP，即插即用连网。</p>
<ul>
<li>使用C/S模式，因而是应用层协议。</li>
<li>基于UDP。</li>
<li>使用DHCP服务器分配IP：
<ol type="1">
<li>客户广播DHCP发现消息，源地址0.0.0.0</li>
<li>DHCP服务器广播DHCP提供消息，包含提供的IP地址，源地址为DHCP服务器地址</li>
<li>客户若接受该IP地址，则广播DHCP请求，源地址0.0.0.0</li>
<li>DHCP服务器广播DHCP确认消息，源地址为DHCP服务器地址</li>
</ol></li>
<li>可以有多个DHCP服务器，客户只会回复一个DHCP提供消息</li>
</ul></li>
<li><p>网络控制报文协议，ICMP：用于报告差错和异常情况。</p>
<ul>
<li>网络层协议。</li>
<li>分为差错报文和询问报文</li>
<li>差错报文类型：
<ul>
<li>终点不可达：数据报不能交付</li>
<li>源点抑制：因为拥塞而丢弃数据报</li>
<li>时间超过：路由器判断数据报生存时间为0</li>
<li>参数问题：首部存在错误的值</li>
<li>重定向：路由器把改变路由的报文发送给主机</li>
</ul></li>
<li>不发送ICMP差错报文的情况：
<ul>
<li>不对ICMP报文发送ICMP报文</li>
<li>第一个分片后的所有分片都不发送ICMP报文</li>
<li>不对多播数据报发送ICMP报文</li>
<li>不对特殊地址（127.0.0.0 0.0.0.0）发送ICMP报文</li>
</ul></li>
<li>询问报文分为回送请求和回答、时间戳请求和回答、地址掩码请求和回答、路由器询问和回答</li>
<li>PING（应用层）使用了ICMP的回送请求和回答报文。</li>
</ul></li>
</ul></li>
<li><p>IPv6：128位地址</p>
<ul>
<li>IPv6数据报：
<ul>
<li>基本首部，40B：
<ul>
<li>版本（4位）：6</li>
<li>通信量类（8位）：区分类别或优先级</li>
<li>流标号（20位）：同一个流的数据报具有相同流标号</li>
<li>有效载荷长度（16位）：除基本首部外字节数</li>
<li>下一个首部（8位）：无扩张首部时表示协议，否则为第一个扩展首部类型</li>
<li>跳数限制（8位）：每次转发减一，减为0则丢弃</li>
<li>源地址和目的地址（各128位）</li>
</ul></li>
<li>IPv6不允许分片，首部长度固定，不含有检验和字段</li>
</ul></li>
<li>IPv6地址：
<ul>
<li>冒号十六进制表示：每16位用一个十六进制数表示，每个十六进制数用冒号分隔</li>
<li>目的地址类型：
<ul>
<li>单播</li>
<li>多播</li>
<li>任播：数据报交付给一台计算机，转发给一组计算机</li>
</ul></li>
<li>地址分类：
<ul>
<li>未指明地址：全0，记为::/128</li>
<li>环回地址：1，记为::1/128</li>
<li>多播地址：11111111，记为FF00::/8</li>
<li>本地链路单播地址：1111111010，记为FE80::/10</li>
<li>其他IPv6地址</li>
</ul></li>
<li>IPv6可以直接从后64位地址中取出硬件地址，而不用ARP协议</li>
</ul></li>
<li>IPv4向IPv6过渡：可采用双协议栈和隧道技术</li>
</ul></li>
<li><p>路由算法：找到源路由器到目的路由器的最佳路径。</p>
<ul>
<li>静态路由：网络管理员手工配置路由</li>
<li>动态路由：动态调整路由表</li>
</ul>
<p>距离-向量路由算法：单源最短路径算法</p>
<p>链路状态路由算法：Dijkstra最短路径算法</p></li>
<li><p>路由选择协议：</p>
<ul>
<li>内部网关协议，IGP：自治系统内部的路由协议，如RIP和OSPF。</li>
<li>外部网关协议，EGP：不同自治系统间的路由协议，如BGP-4。</li>
</ul></li>
<li><p>路由信息协议，RIP：分布式的基于距离向量的路由选择协议。</p>
<ul>
<li>规定：
<ol type="1">
<li>每个路由器都要维护从它自身到其他每个目的网络的距离记录，即距离向量。</li>
<li>使用跳数来衡量到达目的网络的距离，到直连的网络距离为1，每经过一个路由器加1。</li>
<li>好的路由即距离短的路由。</li>
<li>一条路径最多包含15个路由器。</li>
<li>路由表项：目的网络+距离+下一跳路由器地址</li>
</ol></li>
<li>每个路由器不断与相邻的路由器将还路由表信息。
<ul>
<li>初始时路由器只知道相邻的路由器，迭代多次后收敛。</li>
</ul></li>
<li>RIP使用UDP传送数据，端口520，是应用层协议，RIP路径未必时间最短。</li>
<li>距离向量算法：
<ol type="1">
<li>对于地址为X的相邻路由器传来的RIP报文，先修改每个表项，使距离加1，下一跳改为X。</li>
<li>遍历每个表项：
<ul>
<li>若目的地址不在路由表中，添加该表项</li>
<li>目的地址在路由表中，下一跳为X，则更新该表项</li>
<li>目的地址在路由表中，下一跳非X，则比较两者距离，选择更新</li>
</ul></li>
<li>默认180s未收到相邻路由器的更新路由表，则设此路由器不可达，把距离设为16</li>
</ol></li>
<li>优点：实现简单，若发现更短的路由，更新消息传播快</li>
<li>缺点：限制网络规模，若网络出现故障，较长时间才能将信息传送到所有路由器</li>
</ul></li>
<li><p>开放最短路径优先，OSPF协议：</p>
<ul>
<li>当链路状态变化，向自治系统中所有路由器发送信息（与本路由器相邻的所有路由器的链路状态）
<ul>
<li>最终每个路由器建立一个全网的拓扑结构图，使用Dijkstra算法求最短路径，给出下一跳地址</li>
</ul></li>
<li>OSPF是网络层协议，直接使用IP数据报传递信息，协议字段为89。</li>
<li>分组类型：
<ul>
<li>问候分组：发现和维持邻站的可达性
<ul>
<li>每10s交换一次，超过40s认为不可达</li>
</ul></li>
<li>数据库描述分组：给出自己链路状态数据库中的信息</li>
<li>链路状态请求分组：请求对方某些链路状态项目信息</li>
<li>链路状态更新分组：对全网更新链路状态</li>
<li>链路状态确认分组：确认链路状态更新</li>
</ul></li>
<li>特点：
<ul>
<li>每条路由可以设定代价，可以把通信量分配给具有相同代价的路径</li>
<li>支持鉴别可信赖的路由器</li>
<li>支持子网划分和无分类编址</li>
</ul></li>
</ul></li>
<li><p>边界网关协议，BGP：不同自治系统AS间交换路由信息的协议，常用于互联网的网关之间。</p>
<ul>
<li>基于TCP，是应用层协议。</li>
<li>每个AS选择至少一个路由器作为BGP发言人，与其他AS的BGP发言人建立TCP连接，交换信息</li>
<li>报文类型：
<ul>
<li>打开报文</li>
<li>更新报文</li>
<li>保活报文</li>
<li>通知报文</li>
</ul></li>
<li>先使用打开报文建立关系，若邻站接受则返回保活报文，并周期用保活报文维持关系</li>
</ul></li>
<li><p>多播：发送一次分组可到达多个路由器，需要多播路由器的支持</p>
<ul>
<li>IP多播地址：1110开始的每一个地址标志一个多播组，主机可以随时加入或离开多播组。</li>
<li>IP多播地址到MAC多播地址：IP地址的后32为转换为6位十六进制数，MAC地址前6位为01-00-5E</li>
</ul>
<p>网际组管理协议，IGMP：主机加入某个多播组时，发送报文告诉多播路由器</p></li>
<li><p>移动IP：移动站以固定的IP地址在不同网络漫游</p>
<ul>
<li>当移动站从原网络移动到另一个网络中时，将其在另一个网络中的IP告诉原网络，作为转交地址。</li>
</ul></li>
<li><p>网络层设备：路由器</p>
<ul>
<li>路由选择：维护路由表，表项包含目的IP、子网掩码、下一跳IP、接口</li>
<li>分组转发：根据转发表处理分组，将其从合适的接口转发</li>
</ul></li>
</ol>
<h2 id="传输层">5. 传输层</h2>
<ol type="1">
<li><p>传输层提供主机进程间的逻辑通信。</p></li>
<li><p>端口：用于标识主机中的应用进程</p>
<ul>
<li>熟知端口号，0～1023，被互联网地址指派机构（IANA）指派给重要应用，如HTTP端口为80。</li>
<li>登记端口号，1024～49151</li>
<li>客户端口号，49151～65535</li>
</ul>
<p>套接字：IP:端口</p></li>
<li><p>用户数据报协议，UDP</p>
<ul>
<li>首部：8B，每个字段2B。
<ul>
<li>源端口</li>
<li>目的端口</li>
<li>长度：首部和数据的总长度</li>
<li>检验和：全0则不检验</li>
</ul></li>
</ul></li>
<li><p>传输控制协议，TCP：可靠、有序、无丢失、不重复</p>
<ul>
<li><p>面向连接、一对一、全双工、面向字节流</p></li>
<li><p>首部：20B，后续可选增加，长度为4B的整数倍。</p>
<ul>
<li>源端口和目的端口，各2B</li>
<li>序号，4B：本报文段中数据的第一个字节在字节流中编号</li>
<li>确认号，4B：期望收到对方下一个报文段的第一个数据字节的序号</li>
<li>数据偏移，4位：即首部长度，最大为60B</li>
<li>保留，6位：置0</li>
<li>紧急位URG：URG=1表示其为紧急数据</li>
<li>确认位ACK：连接建立后所有传送的报文段都必须把ACK置1</li>
<li>推送位PSH：接收方收到PSH=1的报文段后尽快交付给接收进程，而不是等缓存填满</li>
<li>复位位RST：RST=1可用于拒绝非法报文段或重新建立连接</li>
<li>同步位SYN</li>
<li>终止位FIN</li>
<li>窗口，2B：从本报文确认号开始，接收方允许发送的数据量</li>
<li>检验和，2B</li>
<li>紧急指针，2B：URG=1时有效，指出紧急数据字节数</li>
<li>选项：长度可变</li>
<li>填充：使报文首部长度为4B的整数倍</li>
</ul></li>
<li><p>连接管理：发起连接的为Client，被动建立连接的是Server</p>
<ul>
<li>连接建立：3次握手
<ul>
<li>Client发送请求报文，首部SYN=1，序号seq=x，报文不携带数据，消耗序号
<ul>
<li>Client状态：CLOSED<span
class="math inline">\(\rightarrow\)</span>SYN-SENT</li>
</ul></li>
<li>Server如果同意，发回确认报文，SYN=1，ACK=1，确认号ack=x+1
<ul>
<li>Server状态：LISTEN<span
class="math inline">\(\rightarrow\)</span>SYN-RCVD</li>
</ul></li>
<li>Client再次确认，ACK=1，ack=y+1，seq=x+1
<ul>
<li>Client和Server状态都变为ESTABLISHED</li>
</ul></li>
</ul></li>
<li>连接释放：4次挥手
<ul>
<li>Client发送释放报文，FIN=1，seq=u，报文不携带数据，消耗序号
<ul>
<li>Client状态：ESTABLISHED<span
class="math inline">\(\rightarrow\)</span>FIN-WAIT-1</li>
</ul></li>
<li>Server发回确认，ACK=1，ack=u+1，seq=v
<ul>
<li>Server状态：ESTABLISHED<span
class="math inline">\(\rightarrow\)</span>CLOSE-WAIT</li>
<li>Client(收到后)状态：FIN-WAIT-1</li>
</ul></li>
<li>Server释放连接，FIN=1，ack=u+1
<ul>
<li>Server状态：CLOSE-WAIT<span
class="math inline">\(\rightarrow\)</span>LAST-ACK</li>
</ul></li>
<li>Client发回确认，ACK=1，seq=u+1，ack=v+1
<ul>
<li>Client状态：FIN-WAIT-2<span
class="math inline">\(\rightarrow\)</span>TIME-WAIT<span
class="math inline">\(\rightarrow\)</span>CLOSED</li>
<li>Server(收到后)状态：CLOSED</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>可靠传输：</p>
<ul>
<li>序号</li>
<li>确认：默认使用累计确认</li>
<li>重传：超时计数、冗余确认（每当有失序报文段到达，发送冗余ACK）</li>
</ul></li>
<li><p>流量控制：滑动窗口</p></li>
<li><p>拥塞控制：发送方维持一个拥塞窗口</p>
<p>慢开始和拥塞避免：</p>
<ul>
<li>慢开始算法：指数增大拥塞窗口</li>
<li>拥塞避免算法：线性增大拥塞窗口
<ul>
<li>慢开始门限：根据窗口大小是否小于慢开始门限决定使用慢开始还是拥塞避免算法</li>
</ul></li>
<li>网络拥塞处理：慢开始门限减半，拥塞窗口设置为1，重新开始</li>
</ul>
<p>快重传和快恢复：</p>
<ul>
<li>快重传：发送方连续收到3个冗余ACK，就立即重传</li>
<li>快恢复：发送方连续收到3个冗余ACK，将慢开始门限和窗口大小设为当前窗口大小的一半</li>
</ul></li>
</ul></li>
</ol>
<h2 id="应用层">6. 应用层</h2>
<ol type="1">
<li><p>网络应用模型：</p>
<ul>
<li>客户/服务器模型C/S：Web、文件传输协议、远程登录、电子邮件</li>
<li>P2P：每个结点都同时具有下载和上传的功能。</li>
</ul></li>
<li><p>域名系统DNS：UDP</p>
<ul>
<li><p>层次域名空间：标号.标号.标号</p>
<ul>
<li>标号英文不区分大小写</li>
<li>标号中标点符号只能使用连字符（-）</li>
<li>低级域名写在左侧</li>
<li>标号不超过63个字符，完整域名不超过255个字符</li>
</ul>
<p>顶级域名：由互联网名称与数字地址分配机构（ICANN）管理。</p>
<ul>
<li>国家（.cn .us）</li>
<li>通用顶级域名（.com .org .edu）</li>
<li>基础结构域名（用于反向域名解析）</li>
</ul></li>
<li><p>域名服务器</p>
<ul>
<li><p>根域名服务器：知道所有顶级域名服务器的域名和IP地址</p></li>
<li><p>顶级域名服务器：管理所有在该顶级域名下的二级域名</p></li>
<li><p>权限域名服务器：将管理的主机名转化为IP地址、</p></li>
<li><p>本地域名服务器：DNS查询请求发送给DNS地址的本地域名服务器</p></li>
</ul></li>
<li><p>域名解析过程：递归查询、迭代查询（客户询问后，返回对应IP或下一步查询的服务器）</p>
<ul>
<li>主机向本地域名服务器进行递归查询</li>
<li>本地域名服务器向其他域名服务器一般使用迭代查询</li>
</ul></li>
</ul></li>
<li><p>文本传输协议FTP：提供交互式访问，允许指明文件的类型和格式，允许文件具有存取权限。</p>
<ul>
<li>采取C/S架构，使用控制端口21、数据端口20建立两个TCP连接（带外传送）。</li>
<li>一个FTP服务器可以为多个客户进程服务：主进程负责接收新请求，子进程负责处理单个请求。</li>
<li>工作方式：
<ul>
<li>控制连接：监听21号端口，接收和发送控制信息。</li>
<li>数据连接：文件列表等数据也是通过数据连接传输的。
<ul>
<li>PORT模式：客户要读取数据时，发送PORT命令和端口号，服务器收到后使用20端口连接客户，发送数据。</li>
<li>PASV模式：客户发送PASV命令，服务器发送端口号给客户，客户连接服务器接收数据。</li>
</ul></li>
</ul></li>
</ul>
<p>网络文件系统NFS允许进程打开一个远程文件读取数据。</p></li>
<li><p>电子邮件：</p>
<ul>
<li>组成：用户代理、邮件服务器、电子邮件协议
<ul>
<li>用户代理：用户和电子邮件系统的接口。</li>
<li>邮件协议：发送协议（SMTP）、读取协议（POP3、IMAP）</li>
</ul></li>
<li>收发过程：
<ul>
<li>用户代理使用SMTP将邮件发送给发送端邮件服务器。</li>
<li>发送端邮件服务器把邮件放入邮件缓存队列等待发送。</li>
<li>发送端邮件服务器与接收端邮件服务器建立TCP连接，依次发送邮件缓存队列中的邮件。</li>
<li>接收端邮件服务器把邮件放入用户邮箱。</li>
</ul></li>
<li>邮件的首部：To、Subject、From</li>
<li>多用途互联网邮件扩展MIME：将其他二进制对象转化为SMTP能发送的7位ASCII码与解码。</li>
<li>简单邮件传输协议SMTP：端口号25。
<ul>
<li>建立TCP连接，接收方发出220 SERVICE
ready，客户发送HELO和主机名。</li>
<li>发送：
<ul>
<li>先发送MAIL和发件人地址，服务器准备好则返回250
OK，附带可选的RCPT回复。</li>
<li>确认后，客户发送DATA，服务器返回354，此时客户开始传输数据，用<code>&lt;CRLF&gt;</code>结束。</li>
<li>客户发送QUIT，服务器返回221，释放连接。</li>
</ul></li>
</ul></li>
<li>邮局协议POP：TCP，C/S，端口号110。服务方式包括“下载并删除”、“下载并保留”。</li>
<li>互联网报文存取协议IMAP：允许用户代理只获得报文的一部分。</li>
</ul>
<p>现代电子邮件往往使用HTTP为主。</p></li>
<li><p>万维网：统一资源定位符URL、超文本传输协议HTTP、超文本标记语言HTML</p>
<ul>
<li>URL：<code>&lt;协议&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;</code></li>
</ul></li>
<li><p>HTTP是在网络上传输HTML的协议，用于浏览器、服务器通信。</p>
<ul>
<li><p>HTTP协议是无状态协议，服务器不记得曾经服务过的客户。</p></li>
<li><p>浏览器请求页面的流程：</p>
<ol type="1">
<li><p>与服务器建立TCP连接；</p></li>
<li><p>发送HTTP请求；</p></li>
<li><p>接受HTTP响应，显示网页。</p></li>
</ol></li>
<li><p>HTTP/1.0短链接，HTTP/1.1长连接。</p></li>
<li><p>浏览器发送的HTTP请求结构：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>www.sina.com.cn<br><span class="hljs-attribute">User-Agent</span><span class="hljs-punctuation">: </span>M/5.0 xxx<br><span class="hljs-attribute">Accept</span><span class="hljs-punctuation">: </span>**/**<br><span class="hljs-attribute">Accept-Language</span><span class="hljs-punctuation">: </span>zh-CN,zh;q=0.9,en-US;q=0.8<br></code></pre></td></tr></table></figure>
<ul>
<li><p>第一行使用GET请求获取路径为/的资源，使用HTTP/1.1协议；</p></li>
<li><p>从第二行开始，每行都是Header：Value的HTTP头，常用的HTTP头：</p>
<ul>
<li><p>Host:
表示请求的主机名，因为一个服务器上可能运行着多个网站，因此，Host表示浏览器正在请求的域名；</p></li>
<li><p>User-Agent: 标识客户端本身，例如Chrome浏览器的标识类似M/5.0 ...
Chrome/79，IE浏览器的标识类似M/5.0 (Windows NT ...) like
Gecko；</p></li>
<li><p>Accept：表示浏览器能接收的资源类型，如text/<em>，image/</em>或者<em>/</em>表示所有；</p></li>
<li><p>Accept-Language：表示浏览器偏好的语言，服务器可以据此返回不同语言的网页；</p></li>
<li><p>Accept-Encoding：表示浏览器可以支持的压缩类型，例如gzip, deflate,
br。</p></li>
</ul></li>
</ul></li>
<li><p>服务器的响应：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-meta">HTTP/1.1</span> <span class="hljs-number">200</span> OK<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/html<br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>21932<br><span class="hljs-attribute">Content-Encoding</span><span class="hljs-punctuation">: </span>gzip<br><span class="hljs-attribute">Cache-Control</span><span class="hljs-punctuation">: </span>max-age=300<br></code></pre></td></tr></table></figure>
<ul>
<li><p>第一行是协议的版本+空格+数字+空格+文本。</p>
<p>数字表示响应代码，其中2xx表示成功，3xx表示重定向，4xx表示客户端引发的错误，5xx表示服务端引发的错误。数字给程序识别，文本则是给开发者调试使用。常用的响应代码：</p>
<p>200 OK：表示成功；</p>
<p>301 Moved Permanently：表示该URL已经永久重定向；</p>
<p>302 Found：表示该URL需要临时重定向；</p>
<p>304 Not
Modified：表示该资源没有修改，客户端可以使用本地缓存的版本；</p>
<p>400 Bad Request：表示客户端发送了一个错误的请求，例如参数无效；</p>
<p>401 Unauthorized：表示客户端因为身份未验证而不允许访问该URL；</p>
<p>403 Forbidden：表示服务器因为权限问题拒绝了客户端的请求；</p>
<p>404 Not Found：表示客户端请求了一个不存在的资源；</p>
<p>405 Method Not Allowed</p>
<p>500 Internal Server
Error：表示服务器处理时内部出错，例如因为无法连接数据库；</p>
<p>503 Service Unavailable：表示服务器此刻暂时无法处理请求。</p></li>
<li><p>从第二行开始，服务器每一行均返回一个HTTP头，服务器常返回的HTTP头有：</p>
<p>Content-Type：表示该响应内容的类型，例如text/html，image/jpeg；</p>
<p>Content-Length：表示该响应内容的长度（字节数）；</p>
<p>Content-Encoding：表示该响应压缩算法，例如gzip；</p>
<p>Cache-Control：指示客户端应如何缓存，例如max-age=300表示可以最多缓存300秒。</p></li>
<li><p>HTTP请求和响应都由HTTP
Header和Body组成，Header每行都以，如果有两个连续的，那么后面即是HTTP
Body。浏览器读取HTTP
Body，并根据Content-Type、Content-Encoding等解压后显示网页、图像等内容。</p></li>
</ul></li>
</ul></li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="category-chain-item">计算机网络</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/12/01/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/0_%E7%BB%AA%E8%AE%BA/" title="数据结构与算法-0_绪论">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">数据结构与算法-0_绪论</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/10/02/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E6%80%BB%E7%BB%93%E4%BA%8C/" title="线性代数总结二">
                        <span class="hidden-mobile">线性代数总结二</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <p>长风破浪会有时，直挂云帆济沧海</p> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
